<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0-internal) on Mon Jan 03 15:44:20 EST 2022 -->
<title>KcopDefaultBehaviorIntegrated (IBM InfoSphere Data Replication Change Data Capture API Documentation)</title>
<meta name="date" content="2022-01-03">
<link rel="stylesheet" type="text/css" href="../../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="KcopDefaultBehaviorIntegrated (IBM InfoSphere Data Replication Change Data Capture API Documentation)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div role="navigation" title ="TOP_Navigation" aria-label ="Top Navigation Bar"/>
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/KcopDefaultBehaviorIntegrated.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/sample/kafka/KcopJsonFormatIntegrated.html" title="class in com.datamirror.ts.target.publication.userexit.sample.kafka"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../../index.html?com/datamirror/ts/target/publication/userexit/sample/kafka/KcopDefaultBehaviorIntegrated.html" target="_top">Frames</a></li>
<li><a href="KcopDefaultBehaviorIntegrated.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div role="main" title ="KcopDefaultBehaviorIntegrated" aria-labelledby ="Header1"/>
<div class="header">
<div class="subTitle">com.datamirror.ts.target.publication.userexit.sample.kafka</div>
<h2 title="Class KcopDefaultBehaviorIntegrated" class="title" id="Header1">Class KcopDefaultBehaviorIntegrated</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.datamirror.ts.target.publication.userexit.sample.kafka.AbstractKcop</li>
<li>
<ul class="inheritance">
<li>com.datamirror.ts.target.publication.userexit.sample.kafka.AbstractAvroKcop</li>
<li>
<ul class="inheritance">
<li>com.datamirror.ts.target.publication.userexit.sample.kafka.KcopDefaultBehaviorIntegrated</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/kafka/KafkaCustomOperationProcessorIF.html" title="interface in com.datamirror.ts.target.publication.userexit.kafka">KafkaCustomOperationProcessorIF</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/sample/kafka/KcopTopicMappingIntegrated.html" title="class in com.datamirror.ts.target.publication.userexit.sample.kafka">KcopTopicMappingIntegrated</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">KcopDefaultBehaviorIntegrated</span>
extends com.datamirror.ts.target.publication.userexit.sample.kafka.AbstractAvroKcop</pre>
<div class="block"><p>This Kcop code produces the same behavior as the default Kafka Replication code, ie. the behavior without the 
  Kafka Custom Operation Processor, KCOP, ( aka User Exit). As such, this code makes use of the Confluent 
  serializer, thus transparently registering schemas. Because the default Confluent serializer 
  requires a schema registry url and this code is responsible for serializing, the schema registry url
  must be passed into this KCOP as a parameter.</p>
  
  <p>This Sample should provide the foundation for implementing slight tweaks to existing behavior if desired.</p>
  
  <p>NOTE 1:  The createProducerRecords class is not thread safe.  However a means is provided so that each thread
   can store its own copy of non-theadsafe objects.  Please see how this is done below.</p>
    
  <p>NOTE 2:  The records returned by createProducerRecords are not deep copied, so each call to the method should
   generate new records and not attempt to keep references to old ones for reuse.</p>
   
  <p>Note 3:  The KCOP is instantiated once per subscription which registers the KCOP.  This means if statics are made
   use of, they will potentially be shared across the instantiated KCOPs belonging to multiple actively replicating 
   subscriptions.</p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/sample/kafka/KcopDefaultBehaviorIntegrated.html#KcopDefaultBehaviorIntegrated--">KcopDefaultBehaviorIntegrated</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.util.ArrayList&lt;org.apache.kafka.clients.producer.ProducerRecord&lt;byte[],byte[]&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/sample/kafka/KcopDefaultBehaviorIntegrated.html#createProducerRecords-com.datamirror.ts.target.publication.userexit.kafka.KafkaKcopOperationInIF-com.datamirror.ts.target.publication.userexit.kafka.KafkaKcopReplicationCoordinatorIF-">createProducerRecords</a></span>(<a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/kafka/KafkaKcopOperationInIF.html" title="interface in com.datamirror.ts.target.publication.userexit.kafka">KafkaKcopOperationInIF</a>&nbsp;kafkaKcopOperationIn,
                     <a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/kafka/KafkaKcopReplicationCoordinatorIF.html" title="interface in com.datamirror.ts.target.publication.userexit.kafka">KafkaKcopReplicationCoordinatorIF</a>&nbsp;kafkaKcopCoordinator)</code>
<div class="block">createProducerRecords is called once per subscribed operation that occurs on the CDC Source.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/sample/kafka/KcopDefaultBehaviorIntegrated.html#finish-com.datamirror.ts.target.publication.userexit.kafka.KafkaKcopReplicationCoordinatorIF-">finish</a></span>(<a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/kafka/KafkaKcopReplicationCoordinatorIF.html" title="interface in com.datamirror.ts.target.publication.userexit.kafka">KafkaKcopReplicationCoordinatorIF</a>&nbsp;kafkaKcopCoordinator)</code>
<div class="block">This method will be called during shutdown.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.datamirror.ts.target.publication.userexit.sample.kafka.AbstractAvroKcop">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.datamirror.ts.target.publication.userexit.sample.kafka.AbstractAvroKcop</h3>
<code>init</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.datamirror.ts.target.publication.userexit.kafka.KafkaCustomOperationProcessorIF">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.datamirror.ts.target.publication.userexit.kafka.<a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/kafka/KafkaCustomOperationProcessorIF.html" title="interface in com.datamirror.ts.target.publication.userexit.kafka">KafkaCustomOperationProcessorIF</a></h3>
<code><a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/kafka/KafkaCustomOperationProcessorIF.html#createKafkaRecords-com.datamirror.ts.target.publication.userexit.kafka.KafkaKcopOperationInIF-com.datamirror.ts.target.publication.userexit.kafka.KafkaKcopReplicationCoordinatorIF-">createKafkaRecords</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="KcopDefaultBehaviorIntegrated--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>KcopDefaultBehaviorIntegrated</h4>
<pre>public&nbsp;KcopDefaultBehaviorIntegrated()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="createProducerRecords-com.datamirror.ts.target.publication.userexit.kafka.KafkaKcopOperationInIF-com.datamirror.ts.target.publication.userexit.kafka.KafkaKcopReplicationCoordinatorIF-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createProducerRecords</h4>
<pre>public&nbsp;java.util.ArrayList&lt;org.apache.kafka.clients.producer.ProducerRecord&lt;byte[],byte[]&gt;&gt;&nbsp;createProducerRecords(<a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/kafka/KafkaKcopOperationInIF.html" title="interface in com.datamirror.ts.target.publication.userexit.kafka">KafkaKcopOperationInIF</a>&nbsp;kafkaKcopOperationIn,
                                                                                                                  <a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/kafka/KafkaKcopReplicationCoordinatorIF.html" title="interface in com.datamirror.ts.target.publication.userexit.kafka">KafkaKcopReplicationCoordinatorIF</a>&nbsp;kafkaKcopCoordinator)
                                                                                                           throws com.datamirror.ts.target.publication.userexit.UserExitException</pre>
<div class="block"><p>createProducerRecords is called once per subscribed operation that occurs on the CDC Source.  This method is called by multiple threads
 and as such operations are not necessarily processed in order.  It is valid to return no producer records if a user wishes nothing to 
 be written to User Kafka Topics in response to the operation being processed.</p>
 
 <p>For a given replication session, Kafka records written to the same topic and same partition will be written to Kafka in order.
 ie.  Although formatted out of order, for a given topic/partition combination the resultant records will be sent in the original order
 for a replication session.</p>
 
 <p>By virtue of being able to specify the producer records, a user can determine:</p>
 
 <p>1) the topic(s) written to in response to an operation.  You could potentially alter the default behavior to write to two different topics.<br>
 2) The partition of a topic the kafka record is written to.  This KCOP always writes to partition 0 of a topic as per the default behavior.<br>
 3) The format and bytes of the Key and Value portions of the Kafka record.  eg. The user has control over serialization</p>
 
 <p>In contrast to the kafkaKcopCoordinator, the kafkaKcopOperationIn holds information relevant to the specific operation being processed and can thus
 be thought of as specific operation scope rather than subscription scope.</p>

  <p>NOTE 1:  The createProducerRecords class is not thread safe.  However a means is provided so that each thread
   can store its own copy of non-theadsafe objects.  Please see how this is done below.</p>
    
  <p>NOTE 2:  The records returned by createProducerRecords are not deep copied, so each call to the method should
   generate new records and not attempt to keep references to old ones for reuse.</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/kafka/KafkaCustomOperationProcessorIF.html#createProducerRecords-com.datamirror.ts.target.publication.userexit.kafka.KafkaKcopOperationInIF-com.datamirror.ts.target.publication.userexit.kafka.KafkaKcopReplicationCoordinatorIF-">createProducerRecords</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/kafka/KafkaCustomOperationProcessorIF.html" title="interface in com.datamirror.ts.target.publication.userexit.kafka">KafkaCustomOperationProcessorIF</a></code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>createProducerRecords</code>&nbsp;in class&nbsp;<code>com.datamirror.ts.target.publication.userexit.sample.kafka.AbstractKcop</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>kafkaKcopOperationIn</code> - Contains information relevant to the current operation being processed.</dd>
<dd><code>kafkaKcopCoordinator</code> - Contains subscription scope information including storage for each thread's non-threadsafe objects.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>array of Kafka producer records</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.datamirror.ts.target.publication.userexit.UserExitException</code> - can be thrown</dd>
</dl>
</li>
</ul>
<a name="finish-com.datamirror.ts.target.publication.userexit.kafka.KafkaKcopReplicationCoordinatorIF-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>finish</h4>
<pre>public&nbsp;void&nbsp;finish(<a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/kafka/KafkaKcopReplicationCoordinatorIF.html" title="interface in com.datamirror.ts.target.publication.userexit.kafka">KafkaKcopReplicationCoordinatorIF</a>&nbsp;kafkaKcopCoordinator)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/kafka/KafkaCustomOperationProcessorIF.html#finish-com.datamirror.ts.target.publication.userexit.kafka.KafkaKcopReplicationCoordinatorIF-">KafkaCustomOperationProcessorIF</a></code></span></div>
<div class="block">This method will be called during shutdown.  It will only be called once the last encodeAvroRecord method call has been made and resultant
 records are confirmed to have been written to Kafka. After being called, no further calls to encodeAvroRecord will be made for this session of replication.
 Finish will be called once for the user exit.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/kafka/KafkaCustomOperationProcessorIF.html#finish-com.datamirror.ts.target.publication.userexit.kafka.KafkaKcopReplicationCoordinatorIF-">finish</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/kafka/KafkaCustomOperationProcessorIF.html" title="interface in com.datamirror.ts.target.publication.userexit.kafka">KafkaCustomOperationProcessorIF</a></code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>finish</code>&nbsp;in class&nbsp;<code>com.datamirror.ts.target.publication.userexit.sample.kafka.AbstractKcop</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>kafkaKcopCoordinator</code> - TODO</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div role="navigation" title ="Bottom_NAVIGATION" aria-label ="Bottom Navigation Bar"/>
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/KcopDefaultBehaviorIntegrated.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/sample/kafka/KcopJsonFormatIntegrated.html" title="class in com.datamirror.ts.target.publication.userexit.sample.kafka"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../../index.html?com/datamirror/ts/target/publication/userexit/sample/kafka/KcopDefaultBehaviorIntegrated.html" target="_top">Frames</a></li>
<li><a href="KcopDefaultBehaviorIntegrated.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<div role="contentinfo" title ="contentinfo_title" aria-label ="Contains footer note"/>
<p class="legalCopy"><small><i>Licensed Materials - Property of IBM &copy; Copyright IBM Corp. 1994, 2015</i></small></p>
</body>
</html>
