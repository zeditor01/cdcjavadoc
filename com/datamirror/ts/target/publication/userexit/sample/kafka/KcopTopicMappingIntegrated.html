<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0-internal) on Mon Jan 03 15:44:21 EST 2022 -->
<title>KcopTopicMappingIntegrated (IBM InfoSphere Data Replication Change Data Capture API Documentation)</title>
<meta name="date" content="2022-01-03">
<link rel="stylesheet" type="text/css" href="../../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="KcopTopicMappingIntegrated (IBM InfoSphere Data Replication Change Data Capture API Documentation)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div role="navigation" title ="TOP_Navigation" aria-label ="Top Navigation Bar"/>
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/KcopTopicMappingIntegrated.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/sample/kafka/KcopSingleRowAvroAuditIntegrated.html" title="class in com.datamirror.ts.target.publication.userexit.sample.kafka"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../../index.html?com/datamirror/ts/target/publication/userexit/sample/kafka/KcopTopicMappingIntegrated.html" target="_top">Frames</a></li>
<li><a href="KcopTopicMappingIntegrated.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#methods.inherited.from.class.com.datamirror.ts.target.publication.userexit.sample.kafka.KcopDefaultBehaviorIntegrated">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div role="main" title ="KcopTopicMappingIntegrated" aria-labelledby ="Header1"/>
<div class="header">
<div class="subTitle">com.datamirror.ts.target.publication.userexit.sample.kafka</div>
<h2 title="Class KcopTopicMappingIntegrated" class="title" id="Header1">Class KcopTopicMappingIntegrated</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.datamirror.ts.target.publication.userexit.sample.kafka.AbstractKcop</li>
<li>
<ul class="inheritance">
<li>com.datamirror.ts.target.publication.userexit.sample.kafka.AbstractAvroKcop</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/sample/kafka/KcopDefaultBehaviorIntegrated.html" title="class in com.datamirror.ts.target.publication.userexit.sample.kafka">com.datamirror.ts.target.publication.userexit.sample.kafka.KcopDefaultBehaviorIntegrated</a></li>
<li>
<ul class="inheritance">
<li>com.datamirror.ts.target.publication.userexit.sample.kafka.KcopTopicMappingIntegrated</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/kafka/KafkaCustomOperationProcessorIF.html" title="interface in com.datamirror.ts.target.publication.userexit.kafka">KafkaCustomOperationProcessorIF</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">KcopTopicMappingIntegrated</span>
extends <a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/sample/kafka/KcopDefaultBehaviorIntegrated.html" title="class in com.datamirror.ts.target.publication.userexit.sample.kafka">KcopDefaultBehaviorIntegrated</a></pre>
<div class="block"><p>This sample produces the same behavior as the default Kafka Replication code, ie. the behavior without the 
  Kafka Custom Operation Processor, KCOP, ( aka User Exit) with one exception.  It allows the user to 
  choose which topic a given source table's operations are to be written to at a source table 
  granularity.</p>
  
  <p>To Explicitly map a given source to a given topic name use MAP_TABLE_ as a prefix to the default topic name.
  The following file example would map all tables to a default topic named DefaultTopicTest and 
  kafka1.kafka_multi_tab.sourcedb.shawnrr.tab2 to a topic named remappedTab2.</p>
  
  <br>$ cat kcopTopicMapping.properties 
  <br>schema.registry.url=http://localhost:8081
  <br>MAP_DEFAULT=DefaultTopicTest
  <br>MAP_TABLE_kafka1.kafka_multi_tab.sourcedb.shawnrr.tab2=remappedTab2
  
  <p>To map all source tables to a single topic use MAP_ALL rather than using MAP_ DEFAULT with no explicit mappings.
   Both would technically work, but MAP_ALL avoids an internal lookup for every call to createProducerRecords.</p>
  
  <br>[nz@shawnrrvm conf]$ cat kcopTopicMapping.properties 
  <br>schema.registry.url=http://localhost:8081
  <br>MAP_ALL=OneTopicToRuleThemAll
  
  
  <p> When combining multiple records from different source tables to the same topic, it may be wise to include a source
  table column in the mapping so you'll know which table the record consumed corresponded to. </p>
  
  <p> In the same manner that topics are re-mapped, the KCOP could be modified so that a partition could be selected. </p>
  
  <p> The file parameter must be prefixed by -file: ... an example would be... -file:/home/nz/CDC_KAFKA/CDC/conf/AvroLiveAudit.properties </p>
  
  <p>This code makes use of the Confluent serializer, thus transparently registering schemas. Because the default
   Confluent serializer requires a schema registry url and this code is responsible for serializing, the schema
  registry url must be passed into this user exit as a parameter.</p>
  
  <p>NOTE 1:  The createProducerRecords class is not thread safe.  However a means is provided so that each thread
   can store its own copy of non-theadsafe objects.  Please see how this is done below.</p>
    
  <p>NOTE 2:  The records returned by createProducerRecords are not deep copied, so each call to the method should
   generate new records and not attempt to keep references to old ones for reuse.</p>
   
  <p>Note 3:  The KCOP is instantiated once per subscription which registers the KCOP.  This means if statics are made
   use of, they will potentially be shared across the instantiated KCOPs belonging to multiple actively replicating 
   subscriptions.</p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/sample/kafka/KcopTopicMappingIntegrated.html#KcopTopicMappingIntegrated--">KcopTopicMappingIntegrated</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.datamirror.ts.target.publication.userexit.sample.kafka.KcopDefaultBehaviorIntegrated">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.datamirror.ts.target.publication.userexit.sample.kafka.<a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/sample/kafka/KcopDefaultBehaviorIntegrated.html" title="class in com.datamirror.ts.target.publication.userexit.sample.kafka">KcopDefaultBehaviorIntegrated</a></h3>
<code><a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/sample/kafka/KcopDefaultBehaviorIntegrated.html#createProducerRecords-com.datamirror.ts.target.publication.userexit.kafka.KafkaKcopOperationInIF-com.datamirror.ts.target.publication.userexit.kafka.KafkaKcopReplicationCoordinatorIF-">createProducerRecords</a>, <a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/sample/kafka/KcopDefaultBehaviorIntegrated.html#finish-com.datamirror.ts.target.publication.userexit.kafka.KafkaKcopReplicationCoordinatorIF-">finish</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.datamirror.ts.target.publication.userexit.sample.kafka.AbstractAvroKcop">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.datamirror.ts.target.publication.userexit.sample.kafka.AbstractAvroKcop</h3>
<code>init</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.datamirror.ts.target.publication.userexit.kafka.KafkaCustomOperationProcessorIF">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.datamirror.ts.target.publication.userexit.kafka.<a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/kafka/KafkaCustomOperationProcessorIF.html" title="interface in com.datamirror.ts.target.publication.userexit.kafka">KafkaCustomOperationProcessorIF</a></h3>
<code><a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/kafka/KafkaCustomOperationProcessorIF.html#createKafkaRecords-com.datamirror.ts.target.publication.userexit.kafka.KafkaKcopOperationInIF-com.datamirror.ts.target.publication.userexit.kafka.KafkaKcopReplicationCoordinatorIF-">createKafkaRecords</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="KcopTopicMappingIntegrated--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>KcopTopicMappingIntegrated</h4>
<pre>public&nbsp;KcopTopicMappingIntegrated()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div role="navigation" title ="Bottom_NAVIGATION" aria-label ="Bottom Navigation Bar"/>
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/KcopTopicMappingIntegrated.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../../com/datamirror/ts/target/publication/userexit/sample/kafka/KcopSingleRowAvroAuditIntegrated.html" title="class in com.datamirror.ts.target.publication.userexit.sample.kafka"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../../index.html?com/datamirror/ts/target/publication/userexit/sample/kafka/KcopTopicMappingIntegrated.html" target="_top">Frames</a></li>
<li><a href="KcopTopicMappingIntegrated.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#methods.inherited.from.class.com.datamirror.ts.target.publication.userexit.sample.kafka.KcopDefaultBehaviorIntegrated">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<div role="contentinfo" title ="contentinfo_title" aria-label ="Contains footer note"/>
<p class="legalCopy"><small><i>Licensed Materials - Property of IBM &copy; Copyright IBM Corp. 1994, 2015</i></small></p>
</body>
</html>
